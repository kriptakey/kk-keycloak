<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Applying your license &mdash; Kripta Key Documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b20cc3f5" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=03d93ebb"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="On license expiry" href="license-expiry.html" />
    <link rel="prev" title="Requesting a license" href="license-request.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Kripta Key Documentation
          </a>
              <div class="version">
                24.1.0015-RC-UP02
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../revision-history.html">Revision History</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../kripta-key-primer.html">Kripta Key Primer</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation-guide/index.html">Installation Guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../clikk-installation-guide/index.html">CLIKK Installation Guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../cloud-installation-guide/index.html">Cloud Installation Guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../kkts-guide/index.html">KK-TS Guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tdp-installation-guide/index.html">TDP Installation Guide</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">License Application Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="index.html#preface">Preface</a></li>
<li class="toctree-l2"><a class="reference internal" href="kripta-key-licensing.html">Kripta Key licensing</a></li>
<li class="toctree-l2"><a class="reference internal" href="license-request.html">Requesting a license</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Applying your license</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#applying-a-license-from-evaluation-license">Applying a license from evaluation license</a></li>
<li class="toctree-l3"><a class="reference internal" href="#renewing-existing-license">Renewing existing license</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="license-expiry.html">On license expiry</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../sys-admin-guide/index.html">System Administrator Guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dev-guide/index.html">Developer Guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../e2ee-dev-guide/index.html">E2EE Developer Guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../func-module-guide/index.html">Functional Module Guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../app-integration-guide/index.html">App Integration Guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../keycloak-integration-guide/index.html">KeyCloak Integration Guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../sdk-api-docs/index.html">SDK API Documentation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../rest-api-docs/index.html">REST API Documentation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../whitepaper/index.html">Whitepaper</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../appendix.html">Appendix</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Kripta Key Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">License Application Guide</a></li>
      <li class="breadcrumb-item active">Applying your license</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/license-guide/license-apply.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="applying-your-license">
<h1>Applying your license<a class="headerlink" href="#applying-your-license" title="Link to this heading"></a></h1>
<p>After receiving the license file from the sales team, an administrator may apply the license
by running the following command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>clikk<span class="w"> </span>kk-manager<span class="w"> </span>apply-license<span class="w"> </span>--license-file<span class="o">=</span><span class="s2">&quot;license.file&quot;</span>
</pre></div>
</div>
<p>This command is <strong>critical</strong> privilege level, which requires two administrators to authenticate
with their passwords and smartcards.</p>
<section id="applying-a-license-from-evaluation-license">
<h2>Applying a license from evaluation license<a class="headerlink" href="#applying-a-license-from-evaluation-license" title="Link to this heading"></a></h2>
<p>When a license is applied to a deployment on an evaluation license, several system changes occur. Thus,
it is important that the administrators follow the steps below to propagate the changes to all instances
involved in the deployment.</p>
<ol class="arabic">
<li><p>Restart the KK-Auditor service on the KK-Auditor instance, so that the applied license takes effect.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo<span class="w"> </span>systemctl<span class="w"> </span>restart<span class="w"> </span>kk-ad.service
</pre></div>
</div>
</li>
<li><p>Restart the KK-Manager service on the KK-Manager instance, so that the applied license takes effect.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo<span class="w"> </span>systemctl<span class="w"> </span>restart<span class="w"> </span>kk-md.service
</pre></div>
</div>
</li>
<li><p>For each KK-Cryptoservice instance, do the following:</p>
<ol class="arabic">
<li><p>Stop the KK-Cryptoservice service.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo<span class="w"> </span>systemctl<span class="w"> </span>stop<span class="w"> </span>kk-csd.service
</pre></div>
</div>
</li>
<li><p>Re-register the KK-Cryptoservice instance. Refer to <a class="reference internal" href="../sys-admin-guide/index.html"><span class="doc">System Administrator Guide</span></a> for details
on the <code class="docutils literal notranslate"><span class="pre">clikk</span> <span class="pre">kk-cryptoservice</span> <span class="pre">add</span></code> command.</p>
</li>
<li><p>Restart the KK-Cryptoservice service.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo<span class="w"> </span>systemctl<span class="w"> </span>start<span class="w"> </span>kk-csd.service
</pre></div>
</div>
</li>
</ol>
</li>
<li><p>For each registered application, re-register the application. Refer to <a class="reference internal" href="../sys-admin-guide/index.html"><span class="doc">System Administrator Guide</span></a>
for details on the <code class="docutils literal notranslate"><span class="pre">clikk</span> <span class="pre">app</span> <span class="pre">add</span></code> command.</p></li>
</ol>
</section>
<section id="renewing-existing-license">
<h2>Renewing existing license<a class="headerlink" href="#renewing-existing-license" title="Link to this heading"></a></h2>
<p>Before renewing the license on a deployment, to ensure that the new license information properly propagates
to all instances, perform the following steps:</p>
<ol class="arabic">
<li><p>Ensure all KK-Cryptoservice instances and KK-Manager-DR instances are connected to the KK-Manager instance.</p></li>
<li><p>Apply the new license.</p></li>
<li><p>Double-check that the replication to all KK-Cryptoservice and KK-Manager-DR instances was successful.</p></li>
<li><p>Restart the KK-Cryptoservice service on each KK-Cryptoservice instance.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo<span class="w"> </span>systemctl<span class="w"> </span>restart<span class="w"> </span>kk-csd.service
</pre></div>
</div>
</li>
<li><p>Restart the KK-Manager service on each KK-Manager-DR instance.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo<span class="w"> </span>systemctl<span class="w"> </span>restart<span class="w"> </span>kk-md.service
</pre></div>
</div>
</li>
</ol>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="license-request.html" class="btn btn-neutral float-left" title="Requesting a license" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="license-expiry.html" class="btn btn-neutral float-right" title="On license expiry" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, PT Klavis Kripta Inovasi.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>